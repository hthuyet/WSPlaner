<link href="/sign.css" rel="stylesheet" type="text/css">
<!-- Page container -->
<div class="page-container" ng-controller="CheckInCtrl">
    <!-- Page content -->
    <div class="page-content">
        <!-- Main content -->
        <div class="content-wrapper">
            <!-- Panel content -->
            <div class="panel panel-flat" style="margin-bottom: 0px;">
                <div class="panel-heading">
                </div>

                <div class="panel-body">
                    <form name="checkinFrm">
                        <div class="row">
                            <div class="col-md-8 col-xs-12" id="checkinTemplate">
                                <div class="form-group">
                                    <label class="control-label col-xs-4">{{ 'checkinTemplate' | translate }}</label>
                                    <div class="col-xs-8">
                                        <div class="input-group">
                                            <select ui-select2 ng-model="templateSelected" ng-required="true"
                                                ng-change="changeTemplate()"
                                                ng-options="item as item.Name for item in lstTemplate">
                                            </select>
                                            <span class="input-group-btn">
                                                <button ng-click="clear()" title="{{ 'clear' | translate }}">
                                                    <i class="icon-paint-format"></i>{{ 'clear' | translate }}</span>
                                            </button>
                                            </span>
                                        </div>
                                    </div>
                                </div>


                                <div class="form-group" style="clear: both;">
                                    <div class="col-md-12 col-xs-8 col-xs-offset-4">
                                        <label class="radio-inline" style='color: green;'><input type="radio"
                                                value="green" ng-model="color">{{ 'green' | translate }}</label>
                                        <label class="radio-inline" style='color: red;'><input type="radio" value="red"
                                                ng-model="color">{{ 'red' | translate }}</label>
                                        <label class="radio-inline" style='color: orange;'><input type="radio"
                                                value="orange" ng-model="color">{{ 'orange' | translate }}</label>
                                    </div>
                                </div>



                            </div>

                        </div>

                        <div class="row">

                            <div class="col-md-8 col-xs-12 col-md-offset-3">
                                <signature-pad id="template-canvas" accept="acceptTemplate" clear="clear" height="450"
                                    width="865" color="{{color}}" dataurl="imgTemplate"></signature-pad>
                            </div>
                        </div>


                        <div class="row">

                            <div class="col-md-8 col-xs-12">
                                <div class="form-group" style="clear: both;">
                                    <label class="control-label col-xs-4">{{ 'checkinMileage' | translate }}</label>
                                    <div class="col-xs-8">
                                        <input type="number" class="form-control" ng-model="data.Mileage">
                                    </div>
                                </div>
                            </div>

                        </div>

                        <div class="row">

                            <div class="col-md-8 col-xs-12">
                                <div class="form-group">
                                    <label class="control-label col-xs-4">{{ 'checkinRemark' | translate }}</label>
                                    <div class="col-xs-8">
                                        <div class="input-group">
                                            <textarea type="text" class="form-control"
                                                ng-model="data.Remark"></textarea>
                                            <span class="input-group-btn">
                                                <button type="button" class="btn btn-default" ng-click="openImage()">
                                                    <i class="icon-camera"></i>
                                                </button>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>

                        <div class="row">

                            <div class="col-md-8 col-xs-12">
                                <div class="form-group">
                                    <div class="col-md-12 col-xs-12">
                                        <textarea id="legalText" ng-disabled="true" rows="2" type="text"
                                            class="form-control" ng-model="data.legalText"></textarea>
                                    </div>
                                </div>
                            </div>

                        </div>


                        <div class="row">
                            <div class="col-md-4 col-xs-12 col-md-offset-3">
                                <div class="form-group">
                                    <div class="col-md-8 md-offset-4 col-xs-12">
                                        <div class="container"
                                            ng-style="{'max-width': boundingBox.width + 'px', 'max-height': boundingBox.height + 'px'}">
                                            <signature-pad id="signature-canvas" accept="accept" clear="clearSign"
                                                ng-model="signature" color="#0000FF"
                                                height="{{boundingBox.height - 20 }}" width="{{boundingBox.width - 30}}"
                                                dataurl="dataurl"></signature-pad>


                                            <div class="sizes">
                                                <button ng-click="clearSign()" id="clearSign"
                                                    title="{{ 'clear' | translate }}">
                                                    <i class="icon-paint-format"></i>{{ 'clear' | translate }}</span>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </form>
                </div>

                <button id="btnUpdateColor" style="display: none;" ng-click="templateDraw = acceptTemplate();"></button>
                <div class="panel-footer">
                    <div class="pull-right">
                        <button type="button" class="btn btn-icon btn-primary btnSubmit"
                            ng-click="signature = accept();templateDraw = acceptTemplate();onSubmitForm()">
                            <i class="icon-checkmark3"></i>{{ 'btnSave' | translate }}</span>
                        </button>
                        <button type="button" class="btn btn-link" data-ng-click="onCancel()">{{ 'btnCancel' |
                            translate}}
                        </button>
                    </div>

                </div>
            </div>
            <!-- /main content -->


        </div>
        <!-- /page content -->

    </div>
    <!-- /page container -->
</div>

<script type="text/javascript">
    $(document).ready(function () {
        //    console.log($("#checkinTemplate").width());
        //    $("#template-canvas_ctn").width($("#checkinTemplate").width());
        //    console.log($("#template-canvas_ctn").width());
    });
</script>